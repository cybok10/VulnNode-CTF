# ============================================================
# VulnNode-CTF Environment Configuration
# ============================================================
# Copy this file to .env and configure your settings
# Command: cp .env.example .env

# ============================================================
# SERVER CONFIGURATION
# ============================================================

# Server port (default: 3000)
PORT=3000

# Node environment (development, production, test)
NODE_ENV=development

# Application base URL
BASE_URL=http://localhost:3000

# ============================================================
# DATABASE CONFIGURATION
# ============================================================

# SQLite database file path
DB_PATH=./database/vuln_app.db

# Enable database logging (true/false)
DB_LOGGING=true

# Database connection pool size (for async sqlite3)
DB_POOL_SIZE=10

# ============================================================
# SESSION CONFIGURATION
# ============================================================

# Session secret key (CHANGE THIS IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=supersecretkey

# Session cookie name
SESSION_NAME=vulnnode_session

# Session max age (milliseconds) - 24 hours
SESSION_MAX_AGE=86400000

# Enable secure cookies (set to true for HTTPS)
SESSION_SECURE=false

# HttpOnly cookies (recommended: true)
SESSION_HTTP_ONLY=true

# SameSite cookie policy (strict, lax, none)
SESSION_SAME_SITE=lax

# ============================================================
# JWT CONFIGURATION (Intentionally Weak for CTF)
# ============================================================

# JWT secret key (WEAK - part of CTF challenge)
JWT_SECRET=weakjwtsecret123

# JWT token expiration (1 hour)
JWT_EXPIRES_IN=3600

# JWT algorithm
JWT_ALGORITHM=HS256

# ============================================================
# FILE UPLOAD CONFIGURATION
# ============================================================

# Upload directory
UPLOAD_DIR=./uploads

# Max file size (bytes) - 10MB
MAX_FILE_SIZE=10485760

# Allowed file extensions (comma-separated)
# INTENTIONALLY PERMISSIVE FOR CTF CHALLENGES
ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.gif,.pdf,.txt,.zip,.doc,.docx

# Enable file upload vulnerabilities (true for CTF)
UNSAFE_UPLOAD=true

# ============================================================
# SECURITY SETTINGS (Intentionally Weak for CTF)
# ============================================================

# Enable SQL injection vulnerabilities (true for CTF)
ENABLE_SQLI=true

# Enable XSS vulnerabilities (true for CTF)
ENABLE_XSS=true

# Enable command injection (true for CTF)
ENABLE_COMMAND_INJECTION=true

# Enable insecure deserialization (true for CTF)
ENABLE_DESERIALIZATION=true

# Rate limiting (requests per minute)
RATE_LIMIT=100

# Enable CORS (true/false)
ENABLE_CORS=false

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# ============================================================
# CTF CONFIGURATION
# ============================================================

# Enable CTF features
CTF_ENABLED=true

# CTF start date (ISO 8601 format)
CTF_START_DATE=2025-01-01T00:00:00Z

# CTF end date (ISO 8601 format)
CTF_END_DATE=2025-12-31T23:59:59Z

# Enable flag submission
FLAG_SUBMISSION_ENABLED=true

# Enable hints
HINTS_ENABLED=true

# Hint cooldown (seconds)
HINT_COOLDOWN=300

# Enable leaderboard
LEADERBOARD_ENABLED=true

# Maximum submissions per challenge
MAX_SUBMISSIONS_PER_CHALLENGE=10

# Flag format regex
FLAG_FORMAT=^FLAG\{[A-Za-z0-9_]+\}$

# ============================================================
# ADMIN CONFIGURATION
# ============================================================

# Default admin username
ADMIN_USERNAME=admin

# Default admin password (CHANGE THIS!)
ADMIN_PASSWORD=admin123

# Admin email
ADMIN_EMAIL=admin@vulnnode.local

# Enable admin command execution (DANGEROUS - CTF only)
ADMIN_COMMAND_EXECUTION=true

# Allowed admin IPs (comma-separated, empty for all)
ADMIN_ALLOWED_IPS=

# ============================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================

# Enable email notifications
EMAIL_ENABLED=false

# SMTP host
SMTP_HOST=smtp.example.com

# SMTP port
SMTP_PORT=587

# SMTP username
SMTP_USER=noreply@vulnnode.local

# SMTP password
SMTP_PASS=

# Email from address
EMAIL_FROM=VulnNode CTF <noreply@vulnnode.local>

# ============================================================
# LOGGING CONFIGURATION
# ============================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=debug

# Enable console logging
LOG_CONSOLE=true

# Enable file logging
LOG_FILE=true

# Log file path
LOG_FILE_PATH=./logs/app.log

# Log SQL queries (can be verbose)
LOG_SQL=true

# Log authentication attempts
LOG_AUTH=true

# ============================================================
# BOT CONFIGURATION (XSS Challenge)
# ============================================================

# Enable admin bot for XSS challenges
BOT_ENABLED=true

# Bot visit timeout (milliseconds)
BOT_TIMEOUT=10000

# Bot user agent
BOT_USER_AGENT=Mozilla/5.0 (VulnNode-Bot)

# Bot cookie with admin session
BOT_ADMIN_COOKIE=admin_session_cookie_value

# ============================================================
# PAYMENT CONFIGURATION (Mock for CTF)
# ============================================================

# Enable payment processing (mock)
PAYMENT_ENABLED=true

# Payment gateway (mock)
PAYMENT_GATEWAY=mock

# Currency
CURRENCY=USD

# Tax rate (percentage)
TAX_RATE=10

# Shipping cost
SHIPPING_COST=5.00

# Free shipping threshold
FREE_SHIPPING_THRESHOLD=100.00

# ============================================================
# REDIS CONFIGURATION (Optional - for session store)
# ============================================================

# Enable Redis for sessions
REDIS_ENABLED=false

# Redis host
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis password
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# ============================================================
# MONITORING CONFIGURATION (Optional)
# ============================================================

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check path
HEALTH_CHECK_PATH=/health

# Enable metrics collection
METRICS_ENABLED=false

# Metrics port
METRICS_PORT=9090

# ============================================================
# DEVELOPMENT SETTINGS
# ============================================================

# Enable debug mode
DEBUG=true

# Enable hot reload
HOT_RELOAD=true

# Show detailed error messages
DETAILED_ERRORS=true

# Enable source maps
SOURCE_MAPS=true

# Mock external services
MOCK_SERVICES=true

# ============================================================
# PRODUCTION WARNINGS
# ============================================================
# 
# !!! CRITICAL SECURITY WARNINGS !!!
# 
# This application is INTENTIONALLY VULNERABLE for CTF purposes.
# 
# DO NOT USE IN PRODUCTION:
# - Weak session secrets
# - SQL injection vulnerabilities
# - XSS vulnerabilities  
# - Command injection
# - Insecure file uploads
# - Weak authentication
# - Information disclosure
# - And many more...
# 
# FOR EDUCATIONAL PURPOSES ONLY!
# 
# ============================================================